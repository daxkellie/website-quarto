<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2021-08-30">
<meta name="description" content="What have I been listening to? Let’s find out…using plots!">

<title>Dax Kellie - My Listening</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/favicon_1.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: #934C12;
      }

      .quarto-title-block .quarto-title-banner {
        color: #934C12;
background: #F8EFE7;
      }
</style>
<script src="../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="../../site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="../../theme.css">
<meta property="og:title" content="Dax Kellie - My Listening">
<meta property="og:description" content="What have I been listening to? Let’s find out…using plots!">
<meta property="og:image" content="Spotify.svg">
<meta property="og:site_name" content="Dax Kellie">
<meta name="twitter:title" content="Dax Kellie - My Listening">
<meta name="twitter:description" content="What have I been listening to? Let’s find out…using plots!">
<meta name="twitter:image" content="Spotify.svg">
<meta name="twitter:creator" content="@daxkellie">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/favicon-32x32_1.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Dax Kellie</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../portfolio/index.html"> 
<span class="menu-text">Portfolio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../talks/index.html"> 
<span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../dataviz/index.html"> 
<span class="menu-text">Dataviz</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../music.html"> 
<span class="menu-text">Music</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/daxkellie"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/daxkellie"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">My Listening</h1>
                  <div>
        <div class="description">
          <p>What have I been listening to? Let’s find out…using plots!</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">music</div>
                <div class="quarto-category">dataviz</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 30, 2021</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#hours-of-listening-per-week" id="toc-hours-of-listening-per-week" class="nav-link active" data-scroll-target="#hours-of-listening-per-week">Hours of listening per week</a></li>
  <li><a href="#artists-i-listen-to-most" id="toc-artists-i-listen-to-most" class="nav-link" data-scroll-target="#artists-i-listen-to-most">Artists I listen to most</a></li>
  <li><a href="#when-do-i-listen-to-music" id="toc-when-do-i-listen-to-music" class="nav-link" data-scroll-target="#when-do-i-listen-to-music">When do I listen to music?</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">





<p>Spotify let’s you download your listening history without much fuss. Thanks to some excellent posts like <a href="https://towardsdatascience.com/explore-your-activity-on-spotify-with-r-and-spotifyr-how-to-analyze-and-visualize-your-stream-dee41cb63526">this one</a> and some really cool packages like <a href="https://github.com/charlie86/spotifyr">spotifyr</a>, it’s also easy to learn how to download your Spotify data and make some nice visualisations in R.</p>
<aside>
If you are keen for a challenge, here is <a href="https://github-wiki-see.page/m/davidsjoberg/ggbump/wiki/My-year-on-Spotify">a post on how to make a beautiful bump chart</a> that I was too intimidated to try
</aside>
<p>So, I thought I would try it out!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gghighlight)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(spotifyr)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importing data</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Import the stream data from Spotify which are in JSON-format.</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a month variable by flooring the stream date column.</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="fu">fromJSON</span>(<span class="st">"private_data/MyData/StreamingHistory0.json"</span>)),</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="fu">fromJSON</span>(<span class="st">"private_data/MyData/StreamingHistory1.json"</span>)),</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="fu">fromJSON</span>(<span class="st">"private_data/MyData/StreamingHistory2.json"</span>))</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="st">"endTime"</span>, ymd_hm) <span class="sc">%&gt;%</span> </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">endTime =</span> endTime <span class="sc">+</span> <span class="fu">hours</span>(<span class="dv">10</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">floor_date</span>(endTime, <span class="st">"day"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>           as_date, <span class="at">seconds =</span> msPlayed <span class="sc">/</span> <span class="dv">1000</span>, <span class="at">minutes =</span> seconds <span class="sc">/</span> <span class="dv">60</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="hours-of-listening-per-week" class="level1">
<h1>Hours of listening per week</h1>
<div class="cell" data-code_folding="true" data-preview="true">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Playback activity per week &amp; hours</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>streamingHours <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="at">date =</span> <span class="fu">floor_date</span>(date, <span class="st">"week"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">hours =</span> <span class="fu">sum</span>(minutes) <span class="sc">/</span> <span class="dv">60</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date) <span class="sc">%&gt;%</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> hours)) <span class="sc">+</span> </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> hours), <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis</span>(<span class="at">option =</span> <span class="st">"D"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span> <span class="st">"Date"</span>, <span class="at">y=</span> <span class="st">"Hours of music playback"</span>) <span class="sc">+</span> </span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"My weekly listening on Spotify (Jul 2020 - Jul 2021)"</span>) <span class="sc">+</span> </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(streamingHours)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-916a40cdf5fe963ddcf2" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-916a40cdf5fe963ddcf2">{"x":{"data":[{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18448],"y":[4.8547552777777785],"text":"date: 2020-07-05<br />hours:  4.854755<br />hours:  4.854755","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(253,231,37,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18483],"y":[7.5956302777777776],"text":"date: 2020-08-09<br />hours:  7.595630<br />hours:  7.595630","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(182,222,42,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18455],"y":[8.3174691666666671],"text":"date: 2020-07-12<br />hours:  8.317469<br />hours:  8.317469","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(162,218,55,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18560],"y":[9.5472330555555551],"text":"date: 2020-10-25<br />hours:  9.547233<br />hours:  9.547233","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(131,212,76,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18742],"y":[10.281366944444445],"text":"date: 2021-04-25<br />hours: 10.281367<br />hours: 10.281367","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(113,207,87,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18812],"y":[10.284240555555556],"text":"date: 2021-07-04<br />hours: 10.284241<br />hours: 10.284241","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(112,207,87,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18462],"y":[12.865316388888889],"text":"date: 2020-07-19<br />hours: 12.865316<br />hours: 12.865316","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(59,187,117,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18595],"y":[13.201503333333333],"text":"date: 2020-11-29<br />hours: 13.201503<br />hours: 13.201503","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(54,184,120,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18630],"y":[13.221764166666667],"text":"date: 2021-01-03<br />hours: 13.221764<br />hours: 13.221764","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(54,183,121,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18735],"y":[13.388762777777778],"text":"date: 2021-04-18<br />hours: 13.388763<br />hours: 13.388763","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(52,182,121,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18672],"y":[13.411529166666666],"text":"date: 2021-02-14<br />hours: 13.411529<br />hours: 13.411529","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(51,182,121,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18791],"y":[13.644680277777779],"text":"date: 2021-06-13<br />hours: 13.644680<br />hours: 13.644680","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(47,180,124,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18784],"y":[14.28056111111111],"text":"date: 2021-06-06<br />hours: 14.280561<br />hours: 14.280561","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(40,174,128,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18644],"y":[14.353575277777777],"text":"date: 2021-01-17<br />hours: 14.353575<br />hours: 14.353575","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(39,173,129,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18497],"y":[14.358899722222223],"text":"date: 2020-08-23<br />hours: 14.358900<br />hours: 14.358900","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(39,173,129,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18469],"y":[14.632444999999999],"text":"date: 2020-07-26<br />hours: 14.632445<br />hours: 14.632445","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,171,130,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18686],"y":[15.097863333333333],"text":"date: 2021-02-28<br />hours: 15.097863<br />hours: 15.097863","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(34,167,133,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18546],"y":[15.281178333333333],"text":"date: 2020-10-11<br />hours: 15.281178<br />hours: 15.281178","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(33,165,133,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18511],"y":[15.665838333333333],"text":"date: 2020-09-06<br />hours: 15.665838<br />hours: 15.665838","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(31,161,135,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18763],"y":[15.688264444444446],"text":"date: 2021-05-16<br />hours: 15.688264<br />hours: 15.688264","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(31,161,135,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18476],"y":[16.410896111111111],"text":"date: 2020-08-02<br />hours: 16.410896<br />hours: 16.410896","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(31,154,138,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18651],"y":[16.737904722222222],"text":"date: 2021-01-24<br />hours: 16.737905<br />hours: 16.737905","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(31,151,139,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18539],"y":[17.213013888888888],"text":"date: 2020-10-04<br />hours: 17.213014<br />hours: 17.213014","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(32,146,140,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18770],"y":[17.655758333333331],"text":"date: 2021-05-23<br />hours: 17.655758<br />hours: 17.655758","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(33,143,141,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18518],"y":[18.344146111111112],"text":"date: 2020-09-13<br />hours: 18.344146<br />hours: 18.344146","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(35,136,142,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18609],"y":[18.584740833333335],"text":"date: 2020-12-13<br />hours: 18.584741<br />hours: 18.584741","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,133,142,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18805],"y":[18.956885],"text":"date: 2021-06-27<br />hours: 18.956885<br />hours: 18.956885","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(38,130,142,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18798],"y":[19.025606944444444],"text":"date: 2021-06-20<br />hours: 19.025607<br />hours: 19.025607","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(38,130,142,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18749],"y":[19.937815000000001],"text":"date: 2021-05-02<br />hours: 19.937815<br />hours: 19.937815","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(41,121,142,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18581],"y":[20.5731775],"text":"date: 2020-11-15<br />hours: 20.573177<br />hours: 20.573177","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(44,114,142,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18553],"y":[20.59321527777778],"text":"date: 2020-10-18<br />hours: 20.593215<br />hours: 20.593215","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(44,114,142,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18714],"y":[21.374723333333336],"text":"date: 2021-03-28<br />hours: 21.374723<br />hours: 21.374723","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(47,107,142,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18588],"y":[21.405803333333331],"text":"date: 2020-11-22<br />hours: 21.405803<br />hours: 21.405803","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(47,107,142,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18658],"y":[21.635297222222221],"text":"date: 2021-01-31<br />hours: 21.635297<br />hours: 21.635297","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(49,104,142,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18602],"y":[21.947846944444446],"text":"date: 2020-12-06<br />hours: 21.947847<br />hours: 21.947847","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(50,101,142,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18637],"y":[22.173381666666668],"text":"date: 2021-01-10<br />hours: 22.173382<br />hours: 22.173382","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(51,99,141,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18679],"y":[22.233433333333334],"text":"date: 2021-02-21<br />hours: 22.233433<br />hours: 22.233433","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(51,98,141,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18700],"y":[22.574421111111111],"text":"date: 2021-03-14<br />hours: 22.574421<br />hours: 22.574421","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(53,95,141,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18504],"y":[22.913924722222223],"text":"date: 2020-08-30<br />hours: 22.913925<br />hours: 22.913925","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(54,92,141,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18721],"y":[23.032015000000001],"text":"date: 2021-04-04<br />hours: 23.032015<br />hours: 23.032015","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(55,90,140,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18525],"y":[24.16146472222222],"text":"date: 2020-09-20<br />hours: 24.161465<br />hours: 24.161465","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(61,78,138,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18574],"y":[24.529669166666668],"text":"date: 2020-11-08<br />hours: 24.529669<br />hours: 24.529669","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(62,73,137,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18616],"y":[24.856880833333332],"text":"date: 2020-12-20<br />hours: 24.856881<br />hours: 24.856881","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(64,70,136,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18756],"y":[24.928342222222224],"text":"date: 2021-05-09<br />hours: 24.928342<br />hours: 24.928342","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(64,69,136,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18777],"y":[24.995613055555555],"text":"date: 2021-05-30<br />hours: 24.995613<br />hours: 24.995613","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(64,69,136,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18707],"y":[25.202609444444445],"text":"date: 2021-03-21<br />hours: 25.202609<br />hours: 25.202609","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(66,65,134,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18490],"y":[26.624000277777778],"text":"date: 2020-08-16<br />hours: 26.624000<br />hours: 26.624000","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,48,126,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18693],"y":[26.833367777777777],"text":"date: 2021-03-07<br />hours: 26.833368<br />hours: 26.833368","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(71,46,124,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18728],"y":[27.0197425],"text":"date: 2021-04-11<br />hours: 27.019742<br />hours: 27.019742","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(71,44,122,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18623],"y":[27.319521666666667],"text":"date: 2020-12-27<br />hours: 27.319522<br />hours: 27.319522","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(72,40,120,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18567],"y":[27.494339722222222],"text":"date: 2020-11-01<br />hours: 27.494340<br />hours: 27.494340","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(72,37,118,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18665],"y":[28.041984722222221],"text":"date: 2021-02-07<br />hours: 28.041985<br />hours: 28.041985","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(72,31,112,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":6.3000000000029104,"base":0,"x":[18532],"y":[30.098087777777778],"text":"date: 2020-09-27<br />hours: 30.098088<br />hours: 30.098088","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(68,1,84,0.9)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18444],"y":[0],"name":"99_c4452ec535b0cd680fb4e6163891a74e","type":"scatter","mode":"markers","opacity":0,"hoverinfo":"skip","showlegend":false,"marker":{"color":[0,1],"colorscale":[[0,"#FDE725"],[0.0033444816053511718,"#FBE723"],[0.0066889632107023436,"#F9E622"],[0.010033444816053515,"#F7E620"],[0.013377926421404687,"#F5E61F"],[0.016722408026755859,"#F3E61E"],[0.020066889632107031,"#F1E51D"],[0.023411371237458203,"#EFE51C"],[0.026755852842809374,"#EDE51B"],[0.030100334448160546,"#EBE51A"],[0.033444816053511718,"#E8E419"],[0.036789297658862886,"#E6E419"],[0.040133779264214062,"#E4E419"],[0.043478260869565195,"#E2E418"],[0.046822742474916405,"#DFE318"],[0.050167224080267539,"#DDE318"],[0.053511705685618749,"#DBE319"],[0.056856187290969883,"#D9E319"],[0.060200668896321093,"#D7E219"],[0.063545150501672226,"#D4E21A"],[0.066889632107023436,"#D2E21B"],[0.070234113712374563,"#D0E11C"],[0.073578595317725745,"#CEE11D"],[0.076923076923076913,"#CBE11E"],[0.080267558528428082,"#C9E11F"],[0.08361204013377925,"#C7E020"],[0.086956521739130432,"#C4E021"],[0.090301003344481601,"#C2DF23"],[0.093645484949832769,"#C0DF25"],[0.096989966555183937,"#BEDF26"],[0.10033444816053512,"#BBDE27"],[0.10367892976588629,"#B9DE28"],[0.10702341137123746,"#B7DE2A"],[0.11036789297658862,"#B5DE2B"],[0.11371237458193981,"#B2DD2D"],[0.11705685618729098,"#B0DD2F"],[0.12040133779264214,"#AEDC30"],[0.12374581939799331,"#ABDC31"],[0.12709030100334454,"#A9DC33"],[0.13043478260869565,"#A7DB35"],[0.13377926421404679,"#A5DB36"],[0.13712374581939801,"#A2DA37"],[0.14046822742474913,"#A0DA39"],[0.14381270903010035,"#9ED93A"],[0.14715719063545149,"#9CD93C"],[0.15050167224080269,"#9AD93D"],[0.15384615384615383,"#97D83E"],[0.15719063545150502,"#95D840"],[0.16053511705685616,"#93D741"],[0.16387959866220739,"#91D743"],[0.1672240802675585,"#8FD644"],[0.17056856187290964,"#8DD645"],[0.17391304347826086,"#8AD647"],[0.17725752508361206,"#88D548"],[0.1806020066889632,"#86D549"],[0.18394648829431434,"#84D44B"],[0.18729096989966554,"#82D34D"],[0.19063545150501673,"#80D34E"],[0.19397993311036787,"#7ED34F"],[0.19732441471571902,"#7BD250"],[0.20066889632107024,"#79D151"],[0.20401337792642144,"#77D153"],[0.20735785953177258,"#75D054"],[0.21070234113712372,"#74D055"],[0.21404682274247491,"#71CF57"],[0.21739130434782611,"#6FCF57"],[0.22073578595317725,"#6DCE59"],[0.22408026755852839,"#6CCD5A"],[0.22742474916387961,"#69CD5B"],[0.23076923076923081,"#67CC5C"],[0.23411371237458195,"#66CB5D"],[0.23745819397993309,"#64CB5F"],[0.24080267558528429,"#62CB5F"],[0.24414715719063548,"#5FCA61"],[0.24749163879598662,"#5EC962"],[0.25083612040133779,"#5CC863"],[0.25418060200668896,"#5AC864"],[0.25752508361204018,"#59C765"],[0.2608695652173913,"#57C666"],[0.26421404682274247,"#55C667"],[0.26755852842809363,"#54C568"],[0.2709030100334448,"#52C569"],[0.27424749163879591,"#50C46A"],[0.27759197324414714,"#4EC36B"],[0.28093645484949836,"#4DC26C"],[0.28428093645484948,"#4BC26C"],[0.28762541806020064,"#49C16D"],[0.29096989966555181,"#48C16E"],[0.29431438127090304,"#46C06F"],[0.29765886287625415,"#44BF70"],[0.30100334448160532,"#42BE71"],[0.30434782608695649,"#41BD72"],[0.30769230769230771,"#40BD72"],[0.31103678929765888,"#3EBC73"],[0.31438127090300999,"#3DBC74"],[0.31772575250836121,"#3BBB75"],[0.32107023411371233,"#3ABA76"],[0.32441471571906355,"#39B977"],[0.32775919732441466,"#37B878"],[0.33110367892976589,"#36B878"],[0.334448160535117,"#35B779"],[0.33779264214046822,"#34B679"],[0.34113712374581939,"#32B67A"],[0.34448160535117056,"#31B57B"],[0.34782608695652173,"#30B47C"],[0.3511705685618729,"#2EB37C"],[0.35451505016722407,"#2EB37C"],[0.35785953177257523,"#2DB27D"],[0.3612040133779264,"#2CB17E"],[0.36454849498327763,"#2AB07F"],[0.36789297658862874,"#29AF7F"],[0.37123745819397996,"#28AE80"],[0.37458193979933108,"#27AD81"],[0.3779264214046823,"#27AD81"],[0.38127090301003341,"#26AD81"],[0.38461538461538464,"#25AC82"],[0.38795986622073575,"#25AB82"],[0.39130434782608697,"#24AA83"],[0.39464882943143809,"#23A983"],[0.39799331103678931,"#23A983"],[0.40133779264214048,"#22A884"],[0.40468227424749165,"#22A785"],[0.40802675585284282,"#21A685"],[0.41137123745819398,"#21A585"],[0.41471571906354515,"#20A486"],[0.41806020066889638,"#20A386"],[0.42140468227424749,"#20A386"],[0.42474916387959871,"#1FA287"],[0.42809364548494983,"#1FA187"],[0.43143812709030094,"#1FA188"],[0.43478260869565216,"#1FA088"],[0.43812709030100333,"#1F9F88"],[0.4414715719063545,"#1F9E89"],[0.44481605351170567,"#1F9E89"],[0.44816053511705684,"#1E9D89"],[0.45150501672240795,"#1E9C89"],[0.45484949832775928,"#1E9B8A"],[0.45819397993311034,"#1F9A8A"],[0.46153846153846156,"#1F998A"],[0.46488294314381273,"#1F988B"],[0.46822742474916379,"#1F988B"],[0.47157190635451501,"#1F978B"],[0.47491638795986624,"#1F968B"],[0.47826086956521729,"#1F958B"],[0.48160535117056863,"#1F948C"],[0.48494983277591969,"#20938C"],[0.48829431438127091,"#20928C"],[0.49163879598662213,"#20928C"],[0.49498327759197319,"#20928C"],[0.49832775919732442,"#21918C"],[0.50167224080267558,"#21908D"],[0.50501672240802664,"#218F8D"],[0.50836120401337803,"#218E8D"],[0.51170568561872909,"#218E8D"],[0.51505016722408026,"#228D8D"],[0.51839464882943154,"#228C8D"],[0.52173913043478259,"#228B8D"],[0.52508361204013376,"#238A8D"],[0.52842809364548493,"#23898E"],[0.53177257525083599,"#23888E"],[0.53511705685618738,"#23888E"],[0.53846153846153844,"#24878E"],[0.54180602006688949,"#24868E"],[0.54515050167224088,"#25858E"],[0.54849498327759194,"#25848E"],[0.55183946488294311,"#25838E"],[0.55518394648829439,"#26828E"],[0.55852842809364545,"#26828E"],[0.56187290969899661,"#26828E"],[0.56521739130434778,"#26818E"],[0.56856187290969884,"#27808E"],[0.57190635451505023,"#277F8E"],[0.57525083612040129,"#277E8E"],[0.57859531772575257,"#287D8E"],[0.58193979933110374,"#287D8E"],[0.58528428093645479,"#287C8E"],[0.58862876254180596,"#297B8E"],[0.59197324414715724,"#297A8E"],[0.5953177257525083,"#29798E"],[0.59866220735785958,"#2A788E"],[0.60200668896321063,"#2A778E"],[0.60535117056856191,"#2A778E"],[0.60869565217391308,"#2A768E"],[0.61204013377926414,"#2B758E"],[0.61538461538461542,"#2B748E"],[0.61872909698996659,"#2C738E"],[0.62207357859531764,"#2C728E"],[0.62541806020066903,"#2C728E"],[0.62876254180602009,"#2C718E"],[0.63210702341137126,"#2D718E"],[0.63545150501672254,"#2D708E"],[0.6387959866220736,"#2E6F8E"],[0.64214046822742465,"#2E6E8E"],[0.64548494983277604,"#2E6D8E"],[0.6488294314381271,"#2E6D8E"],[0.65217391304347838,"#2F6C8E"],[0.65551839464882955,"#2F6B8E"],[0.65886287625418061,"#306A8E"],[0.66220735785953189,"#30698E"],[0.66555183946488294,"#31688E"],[0.668896321070234,"#31678E"],[0.67224080267558539,"#31678E"],[0.67558528428093645,"#31668E"],[0.67892976588628784,"#32658E"],[0.6822742474916389,"#32648E"],[0.68561872909698995,"#33638D"],[0.68896321070234123,"#33628D"],[0.6923076923076924,"#34618D"],[0.69565217391304346,"#34618D"],[0.69899665551839474,"#34608D"],[0.7023411371237458,"#355F8D"],[0.70568561872909719,"#355E8D"],[0.70903010033444824,"#365D8D"],[0.7123745819397993,"#365C8D"],[0.71571906354515069,"#375B8D"],[0.71906354515050175,"#375B8D"],[0.72240802675585281,"#375A8C"],[0.72575250836120409,"#38598C"],[0.72909698996655525,"#38588C"],[0.73244147157190653,"#39568C"],[0.73578595317725759,"#39558C"],[0.73913043478260865,"#39558C"],[0.74247491638796004,"#3A548C"],[0.7458193979933111,"#3A538B"],[0.74916387959866215,"#3B528B"],[0.75250836120401354,"#3B518B"],[0.7558528428093646,"#3C508B"],[0.75919732441471566,"#3C4F8A"],[0.76254180602006694,"#3C4F8A"],[0.76588628762541811,"#3D4E8A"],[0.76923076923076938,"#3D4D8A"],[0.77257525083612044,"#3E4C8A"],[0.7759197324414715,"#3E4A89"],[0.77926421404682289,"#3E4989"],[0.78260869565217395,"#3F4889"],[0.785953177257525,"#3F4889"],[0.78929765886287639,"#3F4788"],[0.79264214046822745,"#404688"],[0.79598662207357873,"#404588"],[0.79933110367892979,"#414487"],[0.80267558528428096,"#414387"],[0.80602006688963224,"#424186"],[0.80936454849498329,"#424186"],[0.81270903010033435,"#424086"],[0.81605351170568574,"#423F85"],[0.8193979933110368,"#433E85"],[0.82274247491638819,"#433D84"],[0.82608695652173925,"#443C84"],[0.8294314381270903,"#443A83"],[0.83277591973244158,"#443A83"],[0.83612040133779275,"#443983"],[0.83946488294314381,"#453882"],[0.84280936454849509,"#453781"],[0.84615384615384615,"#453581"],[0.84949832775919754,"#463480"],[0.85284280936454859,"#463480"],[0.85618729096989965,"#46337F"],[0.85953177257525104,"#46327E"],[0.8628762541806021,"#46307E"],[0.86622073578595316,"#472F7D"],[0.86956521739130443,"#472E7C"],[0.8729096989966556,"#472D7B"],[0.87625418060200666,"#472D7B"],[0.87959866220735794,"#472B7A"],[0.882943143812709,"#472A7A"],[0.88628762541806039,"#482979"],[0.88963210702341144,"#482878"],[0.8929765886287625,"#482777"],[0.89632107023411389,"#482576"],[0.89966555183946495,"#482576"],[0.90301003344481601,"#482475"],[0.90635451505016729,"#482374"],[0.90969899665551845,"#482173"],[0.91304347826086973,"#482071"],[0.91638795986622079,"#481F70"],[0.91973244147157185,"#481E6F"],[0.92307692307692324,"#481D6F"],[0.9264214046822743,"#481C6E"],[0.92976588628762535,"#481B6D"],[0.93311036789297674,"#481A6C"],[0.9364548494983278,"#48186A"],[0.93979933110367908,"#481769"],[0.94314381270903014,"#481768"],[0.94648829431438131,"#481568"],[0.94983277591973259,"#481467"],[0.95317725752508364,"#471365"],[0.9565217391304347,"#471164"],[0.95986622073578609,"#471063"],[0.96321070234113715,"#470F62"],[0.96655518394648821,"#470E61"],[0.9698996655518396,"#470C5F"],[0.97324414715719065,"#460B5E"],[0.97658862876254193,"#460A5D"],[0.97993311036789299,"#46085C"],[0.98327759197324416,"#46075B"],[0.98662207357859544,"#450659"],[0.98996655518394649,"#450558"],[0.99331103678929755,"#450357"],[0.99665551839464894,"#440256"],[1,"#440154"]],"colorbar":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"thickness":23.039999999999996,"title":"hours","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickmode":"array","ticktext":["5","10","15","20","25","30"],"tickvals":[0.0057537855678215823,0.20382589035034188,0.40189799513286217,0.59997009991538242,0.79804220469790277,0.99611430948042312],"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"ticklen":2,"len":0.5}},"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":37.260273972602747},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"My weekly listening on Spotify (Jul 2020 - Jul 2021)","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[18426.334999999999,18833.665000000001],"tickmode":"array","ticktext":["Jul 2020","Oct 2020","Jan 2021","Apr 2021","Jul 2021"],"tickvals":[18444,18536,18628,18718,18809],"categoryorder":"array","categoryarray":["Jul 2020","Oct 2020","Jan 2021","Apr 2021","Jul 2021"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Date","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.5049043888888889,31.602992166666667],"tickmode":"array","ticktext":["0","10","20","30"],"tickvals":[0,10,20,30],"categoryorder":"array","categoryarray":["0","10","20","30"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Hours of music playback","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1cd8662c6c51":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"1cd8662c6c51","visdat":{"1cd8662c6c51":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<hr>
</section>
<section id="artists-i-listen-to-most" class="level1">
<h1>Artists I listen to most</h1>
<div class="cell" data-code_folding="true" data-preview="true">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>minutesMostListened <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(artistName) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">hoursListened =</span> ((<span class="fu">sum</span>(minutes)) <span class="sc">/</span> <span class="dv">60</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(., <span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hoursListened <span class="sc">&gt;=</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(artistName, hoursListened), <span class="at">y =</span> hoursListened)) <span class="sc">+</span> </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> hoursListened)) <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis</span>(<span class="at">option =</span> <span class="st">"G"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span> <span class="st">"Artist"</span>, <span class="at">y=</span> <span class="st">"Hours of music playback"</span>) <span class="sc">+</span> </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Artists I listened to most (Jul 2020 - Jul 2021)"</span>, </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">"&gt; 5 hours listened"</span>) <span class="sc">+</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>minutesMostListened</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Note:</strong> This section requires that you get a Client ID and secret number from Spotify. See <a href="https://towardsdatascience.com/explore-your-activity-on-spotify-with-r-and-spotifyr-how-to-analyze-and-visualize-your-stream-dee41cb63526#:~:text=The%20first%20thing%20you%20have%20to%20do,same%20credentials%20as%20with%20your%20Spotify%20account.">this section from Saúl Buentello’s blog post</a> to learn how.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To do this yourself you need to get the following:</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(spotifyr)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.setenv</span>(<span class="at">SPOTIFY_CLIENT_ID =</span> <span class="fu">Sys.getenv</span>(<span class="st">"CLIENTID"</span>))</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.setenv</span>(<span class="at">SPOTIFY_CLIENT_SECRET =</span> <span class="fu">Sys.getenv</span>(<span class="st">"CLIENTSECRET"</span>))</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>access_token <span class="ot">&lt;-</span> <span class="fu">get_spotify_access_token</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="when-do-i-listen-to-music" class="level1">
<h1>When do I listen to music?</h1>
<div class="cell" data-code_folding="true">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># When am I listening to music?</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>hoursDay <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">hour =</span> <span class="fu">hour</span>(endTime),</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">weekday =</span> <span class="fu">wday</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hour, weekday) <span class="sc">%&gt;%</span> </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">minutesListened =</span> <span class="fu">sum</span>(minutes))</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>hoursDay <span class="sc">%&gt;%</span> </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> hour, <span class="at">y =</span> minutesListened)) <span class="sc">+</span> </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> <span class="st">"mean"</span>, <span class="at">geom =</span> <span class="st">"bar"</span>, <span class="at">fill =</span> <span class="st">"#4698c5"</span>) <span class="sc">+</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Time of day"</span>, <span class="at">y =</span> <span class="st">"Minutes of music playback"</span>) <span class="sc">+</span> </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Time of day I listened to music"</span>, </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>          <span class="st">"From 0 to 24 hours"</span>) <span class="sc">+</span> </span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/time-of-day-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>